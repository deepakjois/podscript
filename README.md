# podscript
podscript is a tool to generate transcripts for podcasts (and other similar audio files), using LLMs and other Speech-to-Text (STT) APIs. Currently, [ChatGPT](https://platform.openai.com/docs/overview) and [Deepgram](https://playground.deepgram.com/?endpoint=listen&smart_format=true&language=en&model=nova-2) are supported.

## Prerequisites
You need an API key for at least one of the following services to use podscript:
* [ChatGPT API Key](https://platform.openai.com/api-keys), to clean up and transcribe YouTube autogenerated captions.
* [Deepgram API Key](https://developers.deepgram.com/docs/make-your-first-api-request#create-a-deepgram-api-key) to transcribe any podcast audio file. Deepgram has some excellent and cheap STT models and offers free signup and $200 in credit to get started.
* [Groq API Key](https://console.groq.com/keys) to use Groq's `whisper-v3-large` model to transcribe an audio file.
* _(more APIs, for e.g. Claude and OpenAI Whisper will be supported in the future. Contributions are welcome)_.

## Install

```shell
> go install github.com/deepakjois/podscript@latest

> ~/go/bin/podscript --help
```

## Configure
This command displays prompts to enter API keys for supported services, and write them to `$HOME/.podscript.toml`. 
```shell
> podscript configure
```

Alternatively, you can set keys in environment variable prefixed with `PODSCRIPT_`, for e.g. `PODSCRIPT_OPENAI_API_KEY` and `PODSCRIPT_DEEPGRAM_API_KEY`.

## Usage
### Transcript from YouTube autogenerated captions
For podcasts on YouTube with autogenerated captions (e.g. [Andrew Huberman](https://www.youtube.com/watch?v=WFcYF_pxLgA) and [Cal Newport](https://www.youtube.com/watch?v=OvlfCW3Ec1g)), use the `ytt` subcommand to download the captions from the YouTube video and feed it to ChatGPT to generate a clean transcript.

```shell
> podscript ytt https://www.youtube.com/watch?v=aO1-6X_f74M
```

To customise the path and add a recognizable suffix to the transcripts, use the `--path` and `--suffix` options

```shell
> podscript ytt https://www.youtube.com/watch?v=aO1-6X_f74M --suffix short --path ~/Downloads
```

Sample Output:
```text
wrote raw autogenerated captions to /Users/deepak/Downloads/raw_transcript_2024-07-05-170548_short.txt
transcribed part 1/1â€¦
wrote cleaned up transcripts to /Users/deepak/Downloads/cleaned_transcript_2024-07-05-170548_short.txt
```

### Transcript from Deepgram API
Use the `deepgram` subcommand to generate transcripts that are of a higher quality than YouTube autogenerated captions. Deepgram provides a [great API](https://playground.deepgram.com/?endpoint=listen&smart_format=true&language=en&model=nova-2) (with $200 free signup credit!) and excellent, fast models for transcribing audio files.

Locate the audio file link for any podcast on [ListenNotes](https://www.listennotes.com/) and use the `--from-url` option

```shell
> podscript deepgram --from-url  https://audio.listennotes.com/e/p/d6cc86364eb540c1a30a1cac2b77b82c/
```

Sample Output:
```text
podscript deepgram --from-url  https://audio.listennotes.com/e/p/d6cc86364eb540c1a30a1cac2b77b82c/
wrote raw JSON API response to deepgram_api_response_2024-07-05-173538.json
wrote transcript to deepgram_api_response_2024-07-05-173538.json
```

Alternatively, you can pass a local audio file to the command by setting `--from-file` instead of `--from-url`. You can also customise the path and add a recognizable suffix with `--path` and `--suffix` options.

> [!TIP]
> You can find the audio download link for a podcast on ListenNotes under the More menu
> 
> <img width="252" alt="image" src="https://github.com/deepakjois/podscript/assets/5342/1f400964-e575-4f59-9de0-ee75f386b27d">

### Transcript from Groq Whisper API
Use the `groq` subcommand to generate transcripts using the `whisper-v3-large` model from [Groq's API endpoint](https://console.groq.com/docs/speech-text) (which as of Jul 2024 is in beta and free to use within your rate limits).

```shell
> podscript groq huberman.mp3
```
Sample Output:
```text
wrote raw JSON API response to groq_whisper_api_response_2024-07-11-145154.json
wrote transcript to groq_whisper_api_transcript_2024-07-11-145154.txt
```

Use the `--verbose` flag to dump  timestamps for audio segments in the raw JSON response.

## Feedback

Feel free to drop me a note on [X](https://x.com/debugjois) or [Email Me](mailto:deepak.jois@gmail.com)

## License

[MIT](https://github.com/deepakjois/podscript/raw/main/LICENSE)
