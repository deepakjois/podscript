#!/bin/bash
set -euo pipefail

# Check if there are changes in web/frontend
if git diff --cached --quiet web/frontend/; then
    exit 0
fi

echo "Frontend changes detected. Building and copying dist..."

# Navigate to frontend dir and run build
{ cd web/frontend && npm run build }


# Stage the new dist files that were outputted by vite
git add dist/

exit 0
